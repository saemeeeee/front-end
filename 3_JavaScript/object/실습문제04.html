<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90vh;
      }
      form {
        border: 1px solid #ccc;
        padding: 8px;
      }
      form div {
        margin-bottom: 10px;
      }
      form span {
        display: block;
        color: #999;
        margin-left: 12px;
      }
    </style>
    <link rel="stylesheet" href="./실습문제04.css" />
  </head>
  <body>
    <form action="" onsubmit="return validate()">
      <div>
        <label for="userId">* 아이디 : </label>
        <input type="text" id="userId" name="userId" />
        <span
          >첫글자는 반드시 영문자로, 그리고 영문자, 숫자 포함하여 총 4~12자로
          입력하시오.</span
        >
      </div>
      <div>
        <label for="userPwd">* 비밀번호 : </label>
        <input type="password" id="userPwd" name="userPwd" />
        <span>영문자, 숫자, 특수문자 포함하여 총 8~15자로 입력하시오.</span>
      </div>
      <div>
        <label for="userPwdCheck">* 비밀번호 확인 : </label>
        <input type="password" id="userPwdCheck" />
        <span>위의 비밀번호와 일치하게 입력하시오</span>
      </div>
      <div>
        <label for="userName">* 이름 : </label>
        <input type="text" id="userName" name="userName" />
        <span>한글로만 이루어져야되며 2글자 이상으로 입력하시오.</span>
      </div>
      <div>
        <label for="email">* 이메일 : </label>
        <input type="text" id="email" name="email" />
        <span>이메일 형식에 맞춰서 입력하시오.</span>
      </div>
      <div>
        <label for="hobby">* 취미 : </label>
        <input
          type="text"
          id="hobby"
          name="hobby"
          placeholder="축구, 농구, 야구, 독서 등"
        />
      </div>
      <div>
        <label for="addr">* 거주지 : </label>
        <select name="addr" id="addr">
          <option value="seoul">서울</option>
          <option value="gyeonggi">경기</option>
          <option value="incheon">인천</option>
        </select>
      </div>
      <button type="submit">회원가입</button>
      <button type="reset">취소</button>
    </form>
    <script>
      function userIdCheck() {
        const regExp = /^[a-zA-Z][a-zA-Z0-9]{3,11}$/;
        return regExp.test(userId.value);
      }

      function userPwdCheck1() {
        const regExp = /^[!-~]{8,15}$/;
        return regExp.test(userPwd.value);
      }
      function userPwdCheck2() {
        return userPwd.value === userPwdCheck.value;
      }

      function userNameCheck() {
        // 한글로만 이루어져야되며 2글자 이상으로 입력하시오.
        const regExp = /^[가-힣]{2,}$/;
        return regExp.test(userName.value);
      }

      function emailCheck() {
        // aaaaaa2fa@google.com
        const regExp = /^\w+@\w+\.\w+$/;
        return regExp.test(userName.value);
      }

      // 여기 저기 쓰이는 공통함수 만들기 !
      function inputHandler(e, check, message) {
        if (regExp.test(e.target.value)) {
          e.target.nextElementSibling.style.color = "green";
          e.target.nextElementSibling.innerHTML = "OK!";
        } else {
          e.target.nextElementSibling.style.color = "red";
          e.target.nextElementSibling.innerHTML = message;
        }
      }

      userId.addEventListener("input", function (e) {
        inputHandler(
          e,
          userIdCheck(),
          "첫글자는 반드시 영문자로, 그리고 영문자, 숫자 포함하여 총 4~12자로 입력하시오."
        );
      });

      userId.addEventListener("input", function (e) {
        inputHandler(
          e,
          userIdCheck1(),
          "영문자, 숫자, 특수문자 포함하여 총 8~15자로 입력하시오."
        );
      });

      userPwdCheck.addEventListener("input", function (e) {
        inputHandler(
          e,
          userPwdCheck2(),
          "위의 비밀번호와 일치하게 입력하시오."
        );
      });

      userName.addEventListener("input", function (e) {
        inputHandler(
          e,
          userNameCheck(),
          "한글로만 이루어져야되며 2글자 이상으로 입력하시오."
        );
      });

      email.addEventListener("input", function (e) {
        inputHandler(e, emailCheck(), "이메일 형식에 맞춰서 입력하시오.");
      });

      function validate() {
        if (!userIdCheck()) {
          userId.focus();
          return false;
        } else if (!userPwdCheck1()) {
          userPwd.focus();
          return false;
        } else if (!userPwdcheck2()) {
          userPwdCheck.focus();
          return false;
        } else if (!userNameCheck()) {
          userName.focus();
          return false;
        } else if (!emailCheck()) {
          email.focus();
          return false;
        }

        return true; // 전송 보내겠다 !
      }
    </script>

    <!-- <h3>* 아이디 :</h3>
    <div id="area1">
      <input type="text" id="id" />
      <p>
        첫 글자는 반드시 영문자로, 그리고 영문자, 숫자 포함하여 총 4 ~ 12자로
        입력하시오.
      </p>
      <script>
        let regExp =
      </script>
    </div>

    <h3>* 비밀번호 :</h3>
    <div id="area2">
      <input type="text" id="pwd" />
      <p>영문자, 숫자, 특수문자 포함하여 총 8~15자로 입력하시오.</p>
      <script>
        let;
      </script>
    </div>

    <h3>* 비밀번호 확인 :</h3>
    <input type="text" id="pwdcheck" />
    <p>위의 비밀번호와 일치하게 입력하시오.</p>
    <script></script>

    <h3>* 이름 :</h3>
    <input type="text" id="name" />
    <p>한글로만 이루어져야되며 2글자 이상으로 입력하시오.</p>
    <script></script>

    <h3>* 이메일 :</h3>
    <input type="text" id="email" />
    <p>이메일 형식에 맞춰서 입력하시오.</p>
    <script>
      let nod =
        /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;
    </script>

    <h3>* 취미 :</h3>
    <input type="text" placeholder="축구, 농구, 야구, 독서 등" id="hobby" />
    <script>
      let;
    </script>

    <h3>* 거주지 :</h3>
    <input type="text" id="house" />
    <script></script>
    <br /><br />

    <button>회원가입</button>
    <button>취소</button> -->

    <script src="./js/실습문제04.js"></script>
  </body>
</html>
